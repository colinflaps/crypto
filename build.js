(()=>{const e=async(e,t)=>{e=await t.methods.sayHello().call(),$("h2").html(e)};!async function(){const t=await new Promise(((e,t)=>{window.addEventListener("load",(async()=>{if(window.ethereum){const a=new Web3(window.ethereum);try{await window.ethereum.request({method:"eth_requestAccounts"}),e(a)}catch(e){t(e)}}else t("must install MetaMask")}))})),a=await t.eth.getAccounts(),n=await(async e=>{const t=await $.getJSON("./contracts/Greeting.json"),a=await e.eth.net.getId(),n=t.networks[a];return new e.eth.Contract(t.abi,n&&n.address)})(t);let s;e(s,n),((t,a,n)=>{let s;$("#input").on("change",(e=>{s=e.target.value})),$("#form").on("submit",(async t=>{t.preventDefault(),await a.methods.updateGreeting(s).send({from:n[0],gas:4e4}),e(undefined,a)}))})(0,n,a)}()})();